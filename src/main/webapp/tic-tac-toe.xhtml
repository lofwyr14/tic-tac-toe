<?xml version="1.0" encoding="UTF-8"?>

<f:view xmlns:f="http://java.sun.com/jsf/core"
        xmlns:tc="http://myfaces.apache.org/tobago/component">

  <tc:page>

    <tc:style file="/tic-tac-toe.css"/>

    <tc:messages/>
    <tc:box label="Tic-Tac-Toe" id="field">
      <f:facet name="bar">
        <tc:button image="fa-refresh" markup="primary" action="#{game.reset}"/>
      </f:facet>

      <tc:flowLayout textAlign="center">
        <tc:panel>
          <tc:style customClass="field"/>

          <tc:button image="#{game.image(0)}" action="#{game.move(0)}" disabled="#{not game.free(0) || game.over}">
            <tc:style customClass="#{game.css(0)}"/>
            <f:ajax render="field"/>
          </tc:button>
          <tc:button image="#{game.image(1)}" action="#{game.move(1)}" disabled="#{not game.free(1) || game.over}">
            <tc:style customClass="#{game.css(1)}"/>
            <f:ajax render="field"/>
          </tc:button>
          <tc:button image="#{game.image(2)}" action="#{game.move(2)}" disabled="#{not game.free(2) || game.over}">
            <tc:style customClass="#{game.css(2)}"/>
            <f:ajax render="field"/>
          </tc:button>

          <br/>

          <tc:button image="#{game.image(3)}" action="#{game.move(3)}" disabled="#{not game.free(3) || game.over}">
            <tc:style customClass="#{game.css(3)}"/>
            <f:ajax render="field"/>
          </tc:button>
          <tc:button image="#{game.image(4)}" action="#{game.move(4)}" disabled="#{not game.free(4) || game.over}">
            <tc:style customClass="#{game.css(4)}"/>
            <f:ajax render="field"/>
          </tc:button>
          <tc:button image="#{game.image(5)}" action="#{game.move(5)}" disabled="#{not game.free(5) || game.over}">
            <tc:style customClass="#{game.css(5)}"/>
            <f:ajax render="field"/>
          </tc:button>

          <br/>

          <tc:button image="#{game.image(6)}" action="#{game.move(6)}" disabled="#{not game.free(6) || game.over}">
            <tc:style customClass="#{game.css(6)}"/>
            <f:ajax render="field"/>
          </tc:button>
          <tc:button image="#{game.image(7)}" action="#{game.move(7)}" disabled="#{not game.free(7) || game.over}">
            <tc:style customClass="#{game.css(7)}"/>
            <f:ajax render="field"/>
          </tc:button>
          <tc:button image="#{game.image(8)}" action="#{game.move(8)}" disabled="#{not game.free(8) || game.over}">
            <tc:style customClass="#{game.css(8)}"/>
            <f:ajax render="field"/>
          </tc:button>
        </tc:panel>

        <br/>

        <tc:out value="Status: #{game.status}"/>

      </tc:flowLayout>
    </tc:box>
  </tc:page>

</f:view>
